{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/cientista1/projects/React Native/master_webview/src/ContentView.js\";\n\nimport React, { useState, useRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { WebView } from \"react-native-webview\";\nimport NavigationView from \"./NavigationView\";\nvar baseUrl = \"https://sig.unilab.edu.br/sigaa/mobile/touch/login.jsf\";\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});\n\nvar shouldStartLoadWithRequest = function shouldStartLoadWithRequest(req) {\n  Linking.openURL(req.url);\n  return false;\n};\n\nvar ContentView = function ContentView() {\n  var webviewref = useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      canGoBack = _useState2[0],\n      setCanGoBack = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      canGoForward = _useState4[0],\n      setCanGoForward = _useState4[1];\n\n  var _useState5 = useState(baseUrl),\n      _useState6 = _slicedToArray(_useState5, 2),\n      url = _useState6[0],\n      setUrl = _useState6[1];\n\n  var handleBackPress = function handleBackPress() {\n    webviewref.current.goBack();\n  };\n\n  var handleForwardPress = function handleForwardPress() {\n    webviewref.current.goForward();\n    return true;\n  };\n\n  var handleHomePress = function handleHomePress() {\n    setUrl(\"https://sig.unilab.edu.br/sigaa/mobile/touch/menu.jsf\" + \"?t=\" + Date.now());\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, React.createElement(WebView, {\n    ref: webviewref,\n    source: {\n      uri: url\n    },\n    originWhitelist: [\"*\"],\n    allowUniversalAccessFromFileURLs: true,\n    javaScriptEnabled: true,\n    mixedContentMode: 'always',\n    onNavigationStateChange: function onNavigationStateChange(state) {\n      var back = state.canGoBack;\n      var forward = state.canGoForward;\n      setCanGoBack(back);\n      setCanGoForward(forward);\n    },\n    onShouldStartLoadWithRequest: shouldStartLoadWithRequest,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), React.createElement(NavigationView, {\n    onBackPress: handleBackPress,\n    onForwardPress: handleForwardPress,\n    onHomePress: handleHomePress,\n    canGoBack: canGoBack,\n    canGoForward: canGoForward,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ContentView;","map":{"version":3,"sources":["/home/cientista1/projects/React Native/master_webview/src/ContentView.js"],"names":["React","useState","useRef","WebView","NavigationView","baseUrl","styles","StyleSheet","create","container","flex","shouldStartLoadWithRequest","req","Linking","openURL","url","ContentView","webviewref","canGoBack","setCanGoBack","canGoForward","setCanGoForward","setUrl","handleBackPress","current","goBack","handleForwardPress","goForward","handleHomePress","Date","now","uri","state","back","forward"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;;;;AAEA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAOC,cAAP;AAEA,IAAMC,OAAO,GAAG,wDAAhB;AAEA,IAAMC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAE;AADG;AADoB,CAAlB,CAAf;;AAMA,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACC,GAAD,EAAS;AAE1CC,EAAAA,OAAO,CAACC,OAAR,CAAgBF,GAAG,CAACG,GAApB;AAGA,SAAO,KAAP;AACD,CAND;;AAOA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,MAAMC,UAAU,GAAGf,MAAM,EAAzB;;AADwB,kBAEUD,QAAQ,CAAC,KAAD,CAFlB;AAAA;AAAA,MAEjBiB,SAFiB;AAAA,MAENC,YAFM;;AAAA,mBAGgBlB,QAAQ,CAAC,KAAD,CAHxB;AAAA;AAAA,MAGjBmB,YAHiB;AAAA,MAGHC,eAHG;;AAAA,mBAIFpB,QAAQ,CAACI,OAAD,CAJN;AAAA;AAAA,MAIjBU,GAJiB;AAAA,MAIZO,MAJY;;AAMxB,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BN,IAAAA,UAAU,CAACO,OAAX,CAAmBC,MAAnB;AACD,GAFD;;AAIA,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC/BT,IAAAA,UAAU,CAACO,OAAX,CAAmBG,SAAnB;AACA,WAAO,IAAP;AACD,GAHD;;AAKA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BN,IAAAA,MAAM,CACJ,0DACE,KADF,GAEEO,IAAI,CAACC,GAAL,EAHE,CAAN;AAKD,GAND;;AAOA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAExB,MAAM,CAACG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,OAAD;AACE,IAAA,GAAG,EAAEQ,UADP;AAEE,IAAA,MAAM,EAAE;AACNc,MAAAA,GAAG,EAAEhB;AADC,KAFV;AAKE,IAAA,eAAe,EAAE,CAAC,GAAD,CALnB;AAME,IAAA,gCAAgC,EAAE,IANpC;AAOE,IAAA,iBAAiB,EAAE,IAPrB;AAQE,IAAA,gBAAgB,EAAE,QARpB;AASE,IAAA,uBAAuB,EAAE,iCAACiB,KAAD,EAAW;AAClC,UAAMC,IAAI,GAAGD,KAAK,CAACd,SAAnB;AACA,UAAMgB,OAAO,GAAGF,KAAK,CAACZ,YAAtB;AACAD,MAAAA,YAAY,CAACc,IAAD,CAAZ;AACAZ,MAAAA,eAAe,CAACa,OAAD,CAAf;AACD,KAdH;AAeE,IAAA,4BAA4B,EAAEvB,0BAfhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAkBE,oBAAC,cAAD;AACE,IAAA,WAAW,EAAEY,eADf;AAEE,IAAA,cAAc,EAAEG,kBAFlB;AAGE,IAAA,WAAW,EAAEE,eAHf;AAIE,IAAA,SAAS,EAAEV,SAJb;AAKE,IAAA,YAAY,EAAEE,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,CADF;AA4BD,CAlDD;;AAoDA,eAAeJ,WAAf","sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { View, StyleSheet, Linking } from \"react-native\";\nimport { WebView } from \"react-native-webview\";\nimport NavigationView from \"./NavigationView\";\n\nconst baseUrl = \"https://sig.unilab.edu.br/sigaa/mobile/touch/login.jsf\";\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n\nconst shouldStartLoadWithRequest = (req) => {\n  // open the link in native browser\n  Linking.openURL(req.url);\n\n  // returning false prevents WebView to navigate to new URL\n  return false;\n};\nconst ContentView = () => {\n  const webviewref = useRef();\n  const [canGoBack, setCanGoBack] = useState(false);\n  const [canGoForward, setCanGoForward] = useState(false);\n  const [url, setUrl] = useState(baseUrl);\n\n  const handleBackPress = () => {\n    webviewref.current.goBack();\n  };\n\n  const handleForwardPress = () => {\n    webviewref.current.goForward();\n    return true;\n  };\n\n  const handleHomePress = () => {\n    setUrl(\n      \"https://sig.unilab.edu.br/sigaa/mobile/touch/menu.jsf\" +\n        \"?t=\" +\n        Date.now()\n    );\n  };\n  return (\n    <View style={styles.container}>\n      <WebView\n        ref={webviewref}\n        source={{\n          uri: url,\n        }}\n        originWhitelist={[\"*\"]}\n        allowUniversalAccessFromFileURLs={true}\n        javaScriptEnabled={true}\n        mixedContentMode={'always'}\n        onNavigationStateChange={(state) => {\n          const back = state.canGoBack;\n          const forward = state.canGoForward;\n          setCanGoBack(back);\n          setCanGoForward(forward);\n        }}\n        onShouldStartLoadWithRequest={shouldStartLoadWithRequest}\n      />\n      <NavigationView\n        onBackPress={handleBackPress}\n        onForwardPress={handleForwardPress}\n        onHomePress={handleHomePress}\n        canGoBack={canGoBack}\n        canGoForward={canGoForward}\n      />\n    </View>\n  );\n};\n\nexport default ContentView;\n"]},"metadata":{},"sourceType":"module"}